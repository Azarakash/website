<!doctype html>
<html id="__html-tag" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Freesm Launcher</title>
    <meta name="description" content="A Prism Launcher fork aimed to provide a free way to play Minecraft." />
    <meta name="robots" content="NOODP" key="NOODP" />
    <meta name="application-name" content="Freesm Launcher">
    <meta name="generator" content="Vue.js">
    <meta name="category" content="website">
    <meta name="format-detection" content="telephone=no">
    <meta property="og:title" content="Freesm Launcher">
    <meta property="og:description" content="A Prism Launcher fork aimed to provide a free way to play Minecraft.">
    <meta property="og:site_name" content="Freesm Launcher">
    <meta property="og:image" content="/banner.webp">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Freesm Launcher">
    <meta name="twitter:description" content="A Prism Launcher fork aimed to provide a free way to play Minecraft.">
    <meta name="twitter:image" content="/banner.webp">
    <link rel="icon" href="/favicon.ico" />
    <style>
      /* Initial UI styles */
      @media (width < 640px) {
        #__initial-header {
          display: none !important;
        }
        #__initial-bottom-bar {
          display: flex !important;
        }
      }
      @media (width < 768px) {
        .__initial-header-nav__link {
          display: none !important;
        }
        #__initial-header-row {
          gap: 8px !important;
        }
        #__initial-header-nav {
          gap: 8px !important;
        }
        #__initial-header-nav__themes-text {
          padding-right: 4px !important;
        }
      }
    </style>
    <script>
      /* Per-route metadata */
      switch (location?.pathname) {
        case "/downloads": {
          const title = "Downloads - Freesm Launcher";
          const description = "Download Freesm Launcher for your platform for free, no ads, no viruses, no SMS, no registration, no calls, no glowies. Or don't do it, it's up to you!";

          document.title = title;
          document
            ?.querySelector?.('meta[name="description"]')
            ?.setAttribute?.(
              "content",
              description,
            );
          document
            ?.querySelector?.('meta[property="og:description"]')
            ?.setAttribute?.(
              "content",
              description,
            );
          document
            ?.querySelector?.('meta[name="twitter:description"]')
            ?.setAttribute?.(
              "content",
              description,
            );

          break;
        }
        case "/faq": {
          const title = "FAQ - Freesm Launcher";
          const description = "A collection of helpful information for frequent problems when using Freesm Launcher.";

          document.title = title;
          document
            ?.querySelector?.('meta[name="description"]')
            ?.setAttribute?.(
            "content",
            description,
          );
          document
            ?.querySelector?.('meta[property="og:description"]')
            ?.setAttribute?.(
            "content",
            description,
          );
          document
            ?.querySelector?.('meta[name="twitter:description"]')
            ?.setAttribute?.(
            "content",
            description,
          );

          break;
        }
        case "/themes": {
          const title = "Themes - Freesm Launcher";
          const description = "Easily create and preview your Freesm Launcher theme in real-time.";

          document.title = title;
          document
            ?.querySelector?.('meta[name="description"]')
            ?.setAttribute?.(
            "content",
            description,
          );
          document
            ?.querySelector?.('meta[property="og:description"]')
            ?.setAttribute?.(
            "content",
            description,
          );
          document
            ?.querySelector?.('meta[name="twitter:description"]')
            ?.setAttribute?.(
            "content",
            description,
          );

          break;
        }
      }

      const translateInitialText = () => {
        const storedTranslations = localStorage?.getItem?.("translations");

        if (storedTranslations === null) {
          return;
        }

        let parsed;

        try {
          parsed = JSON.parse(storedTranslations);
        } catch {
          return;
        }

        console.log(parsed);

        // A shallow check that translations are valid
        if (parsed?.Messages?.["routes.home.name"] === undefined) {
          return;
        }

        // In case if something wrong
        if (!document.getElementById("__initial-header-nav__home-text")) {
          return;
        }

        const homeTitle = parsed?.Messages?.["routes.home.name"];
        const downloadsTitle = parsed?.Messages?.["routes.downloads.name"];
        const faqTitle = parsed?.Messages?.["routes.faq.name"];
        const themesTitle = parsed?.Messages?.["routes.themes.name"];
        const otherTitle = parsed?.Messages?.["general.other"];

        document.getElementById("__initial-header-nav__home-text").textContent = homeTitle;
        document.getElementById("__initial-header-nav__downloads-text").textContent = downloadsTitle;
        document.getElementById("__initial-header-nav__faq-text").textContent = faqTitle;
        document.getElementById("__initial-header-nav__themes-text").textContent = themesTitle;

        document.getElementById("__initial-bottom-bar__home-text").textContent = homeTitle;
        document.getElementById("__initial-bottom-bar__downloads-text").textContent = downloadsTitle;
        document.getElementById("__initial-bottom-bar__faq-text").textContent = faqTitle;
        document.getElementById("__initial-bottom-bar__themes-text").textContent = themesTitle;
        document.getElementById("__initial-bottom-bar__other-text").textContent = otherTitle;
      };

      translateInitialText();
    </script>
  </head>
  <body style="margin:0;background:#09090e;color:white">
    <div id="app" class="select-none">
      <!-- Initial loading UI -->
      <!-- These DOM nodes will be overwritten on Vue app mount -->
      <div style="width:100%;height:100vh">
        <header id="__initial-header" style="position:sticky;top:0;width:100%;height:80px;display:flex;justify-content:center">
          <div style="max-width:1280px;width:100%;height:100%;display:flex;justify-content:space-between;align-items:center;border-bottom-left-radius:8px;border-bottom-right-radius:8px;background:#0c0c14">
            <div></div>
            <div id="__initial-header-row" style="display:flex;gap:16px;align-items:center">
              <div id="__initial-header-nav" style="display:flex;gap:16px">
                <p id="__initial-header-nav__home-text" style="font-weight:600">Home</p>
                <p id="__initial-header-nav__downloads-text" style="font-weight:600">Downloads</p>
                <p id="__initial-header-nav__faq-text" style="font-weight:600">FAQ</p>
                <p id="__initial-header-nav__themes-text" style="font-weight:600;padding-right:8px">Themes</p>
              </div>
              <div style="width:2px;height:32px;background:#cba6f7"></div>
              <div class="__initial-header-nav__link" style="width:32px;height:32px;background:#11111b;border-radius:100%"></div>
              <div class="__initial-header-nav__link" style="width:32px;height:32px;background:#11111b;border-radius:100%"></div>
              <div style="width:32px;height:32px;background:#11111b;border-radius:100%"></div>
              <div style="width:32px;height:32px;background:#11111b;border-radius:100%;margin-right:16px"></div>
            </div>
          </div>
        </header>
        <div id="__initial-bottom-bar" style="position:absolute;bottom:0;width:100%;height:80px;background:#0c0c14;display:none;flex-wrap:nowrap;overflow-x:auto">
          <div style="min-width:80px;display:flex;flex-direction:column;gap:8px;justify-content:center;align-items:center;flex:1 0 0">
            <div style="width:32px;height:32px"></div>
            <p id="__initial-bottom-bar__home-text" style="padding-bottom:4px;text-align:center;font-size:14px;line-height:1;color:#ffffffb3">Home</p>
          </div>
          <div style="min-width:80px;display:flex;flex-direction:column;gap:8px;justify-content:center;align-items:center;flex:1 0 0">
            <div style="width:32px;height:32px"></div>
            <p id="__initial-bottom-bar__downloads-text" style="padding-bottom:4px;text-align:center;font-size:14px;line-height:1;color:#ffffffb3">Downloads</p>
          </div>
          <div style="min-width:80px;display:flex;flex-direction:column;gap:8px;justify-content:center;align-items:center;flex:1 0 0">
            <div style="width:32px;height:32px"></div>
            <p id="__initial-bottom-bar__faq-text" style="padding-bottom:4px;text-align:center;font-size:14px;line-height:1;color:#ffffffb3">FAQ</p>
          </div>
          <div style="min-width:80px;display:flex;flex-direction:column;gap:8px;justify-content:center;align-items:center;flex:1 0 0">
            <div style="width:32px;height:32px"></div>
            <p id="__initial-bottom-bar__themes-text" style="padding-bottom:4px;text-align:center;font-size:14px;line-height:1;color:#ffffffb3">Themes</p>
          </div>
          <div style="min-width:80px;display:flex;flex-direction:column;gap:8px;justify-content:center;align-items:center;flex:1 0 0">
            <div style="width:32px;height:32px"></div>
            <p id="__initial-bottom-bar__other-text" style="padding-bottom:4px;text-align:center;font-size:14px;line-height:1;color:#ffffffb3">Other</p>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
